@{
    Layout = null;
}
@model Partial_Seatch
<div class="searchbox">
    <div class="ui form tiny">
        <div class="inline fields">
            <div class="field">
                <label>关键字</label>
                <div class="ui input clearable">
                    <input type="text" id="KeyWord" value="@Model.Item.KeyWord">
                    <i class="close icon"></i>
                </div>
            </div>
            <div class="field">
                <label>模块</label>
                <div class="ui selection dropdown clearable" style="min-width:150px !important;">
                    <input type="hidden" id="ModuleID" value="@Model.Item.ModuleID">
                    <div class="default text"></div>
                    <div class="menu">
                        @foreach (var item in G.NowProject.Modules)
                        {
                            <div class="item" data-value="@item.ModuleID">@item.ModuleName</div>
                        }
                    </div>
                </div>
            </div>
            <div class="field">
                <label>关联</label>
                <div class="ui selection dropdown clearable" style="min-width:120px !important;">
                    <input type="hidden" id="Tag" value="@(Model.Item.Tag==0?"":Model.Item.Tag.ToString())">
                    <div class="default text"></div>
                    <div class="menu">
                        <div class="item" data-value="1">由我创建</div>
                        @if (Model.Type == DBEnums.LogType.需求)
                        {
                            <div class="item" data-value="2">由我评审</div>
                        }
                        else
                        {
                            <div class="item" data-value="2">由我负责</div>
                        }
                    </div>
                </div>
            </div>
            <div class="field">
                <label>状态</label>
                @switch (Model.Type)
                {
                    case DBEnums.LogType.需求:
                        <SelectEnums Fluid="false" ID="Status" Default="Model.Item.Status" Width="100" Enum="typeof(DBEnums.RequirementStatus)"></SelectEnums>
                        break;
                    case DBEnums.LogType.任务:
                        <SelectEnums Fluid="false" ID="Status" Default="Model.Item.Status" Width="100" Enum="typeof(DBEnums.TasksStatus)"></SelectEnums>
                        break;
                    case DBEnums.LogType.测试:
                        <SelectEnums Fluid="false" ID="Status" Default="Model.Item.Status" Width="100" Enum="typeof(DBEnums.BugStatus)"></SelectEnums>
                        break;
                }
            </div>
            <div class="field">
                <label>类型</label>
                <SelectEnums Fluid="false" ID="MType" Default="Model.Item.MType" Width="100" Enum="typeof(DBEnums.MType)"></SelectEnums>
            </div>
            <div class="field">
                <button class="ui button orange icon" id="search"><i class="icon search"></i></button>
            </div>
            <div class="field right">
                @switch (Model.Type)
                {
                    case DBEnums.LogType.需求:
                        <a class="ui floating teal labeled icon button tiny" href="/Requirement/Add">
                            <i class="plus icon"></i>新增
                        </a>
                        break;
                    case DBEnums.LogType.任务:
                        <a class="ui floating teal labeled icon button tiny" href="/Tasks/Add">
                            <i class="plus icon"></i>新增
                        </a>
                        break;
                    case DBEnums.LogType.测试:
                        <a class="ui floating teal labeled icon button tiny" href="/Bug/Add">
                            <i class="plus icon"></i>新增
                        </a>
                        break;
                }
            </div>
        </div>
    </div>
</div>